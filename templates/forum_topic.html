[[extend 'layout.html']]

<style>
    body {
        min-height: 100vh;
        background-color: rgb(235, 235, 235);
    }
</style>

<div class="section mx-6 px-3">
    <p class="title is-2">[[=topic]]</p>
    
    <!-- Display an add post button -->
    <a class="button is-primary is-medium block" href="[[=URL('forum_add_post', topic_id)]]">
        <span>Add Post</span>
        <span class="icon">
            <i class="fa fa-lg fa-plus"></i>
        </span>
    </a>

    <!-- Display list of posts in reverse chronological order -->
    [[for post in posts:]]
    <div class="notification is-light m-0">
        <p class="is-size-3">[[=post['post_title']]]</p>
        <p class="is-size-5">[[=post['post_content']]]</p>
        <p class="pt-3">Post by [[=post['name']]]</p>
    </div>
    <div class="column is-3 m-0 p-0">
        <a class="button is-link is-block" href="[[=URL('forum_post', post['id'])]]">
            View Post
        </a>
    </div>
    <div class="block"></div>
    [[pass]]
</div>
